var He=Object.defineProperty,Ne=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var we=(e,t,s)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,P=(e,t)=>{for(var s in t||(t={}))je.call(t,s)&&we(e,s,t[s]);if(xe)for(var s of xe(t))Oe.call(t,s)&&we(e,s,t[s]);return e},Q=(e,t)=>Ne(e,Ue(t));import{c as Pe,a as Ae,T as Ve,A as re,d as Fe,f as We,s as Z,b as X,e as ze,R as qe,g as M,o as p,h as S,m as ke,u as i,I as Ye,i as ee,j as b,r as te,w as E,k as c,l as _,n as q,F as A,t as k,p as y,q as W,v as z,E as Je,x as Y,y as F,z as se,B as ie,C,D as H,G as N,H as U,J as j,K as de,L as le,M as Ie,N as Ke,O as Ge,P as Qe,Q as Ze,V as Xe,S as et,U as tt,W as st,X as nt,Y as at,Z as ot,_ as Ce,$ as rt,a0 as it,a1 as Me,a2 as Le,a3 as lt,a4 as ct,a5 as ut,a6 as dt,a7 as pt,a8 as pe,a9 as ht}from"./vendor.ce23a725.js";const _t=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};_t();const mt="modulepreload",Se={},ft="/",ce=function(t,s){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=`${ft}${r}`,r in Se)return;Se[r]=!0;const n=r.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":mt,n||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),n)return new Promise((l,d)=>{a.addEventListener("load",l),a.addEventListener("error",d)})})).then(()=>t())};var gt=Pe({history:Ae(),routes:[{path:"/",name:"home",component:()=>ce(()=>import("./Home.37027f30.js"),[])},{path:"/search",name:"search",component:()=>ce(()=>import("./Search.c85df7a9.js"),["assets/Search.c85df7a9.js","assets/Search.2f23ca79.css","assets/vendor.ce23a725.js"])},{path:"/channel/:channelId",name:"channel",component:()=>ce(()=>import("./Channel.44a438fe.js"),["assets/Channel.44a438fe.js","assets/Channel.ff76015b.css","assets/vendor.ce23a725.js"])}]}),Be=new Ve({users:[{id:"string",name:"string","image?":"string","image72?":"string","image24?":"string"}],channels:[{id:"string",name:"string",isArchived:"boolean",isGeneral:"boolean","topic?":"string","purpose?":"string","pinnedMessageIds?":["uint"],messages:[{id:"uint",type:"string","userId?":"string",channelId:"string",text:"string",ts:"uint",tags:["string"],isEdited:"boolean","threadId?":"uint","replyCount?":"uint","replyUsersCount?":"uint","replyUserIds?":["string"],"replyMessageIds?":["uint"],"latestReply?":"uint","reactions?":[{name:"string",count:"uint",userIds:["string"]}],"files?":[{id:"string",name:"string",mimeType:"string",src:"string","width?":"uint","height?":"uint"}],"attachments?":[{"serviceName?":"string","serviceIcon?":"string","title?":"string","titleUrl?":"string","text?":"string","thumbUrl?":"string","imageUrl?":"string","quoteId?":"uint","channelId?":"string"}]}]}]});re.init({workerUrl:"/libarchive.js/worker-bundle.js"});const he=async(e,t)=>{const s=await e[t].text();return JSON.parse(s)},K=e=>Math.floor(Number(e)*1e3),Re=e=>e<600?"xs":e<960?"sm":e<1264?"md":"lg",B=Fe("store",{state:()=>({dataLoaded:!1,exportNeeded:!1,binaryData:null,binarySource:"download",status:"Loading...",users:{},channels:[],messagesById:{},exportConfig:{preferDisplayName:!0,hideChannelMessages:!0,skipArchivedChannels:!0,removeLinkPreviews:!1},coffeeMenu:!1,leftSidebar:!1,deviceWidth:window.innerWidth,deviceType:Re(window.innerWidth),activeSearch:{type:"oneLine",content:[{type:"paragraph"}]},lastMentionQuery:"",messageIndex:new We.exports.Document({document:{id:"id",tag:"tag",index:"content"},worker:!0,charset:"latin:advanced"})}),actions:{async loadBinary(){try{if(this.binaryData)this.binarySource="upload";else{this.status="Downloading...";const o=await fetch("/export.bin.zip");if(!o.ok){this.exportNeeded=!0,this.status="Waiting for export";return}const d=(await(await re.open(new File([await o.arrayBuffer()],"export.bin.zip"))).extractFiles())["export.bin"];this.binaryData=Buffer.from(await d.arrayBuffer()),this.binarySource="download"}this.status="Extracting...";const{channels:e,users:t}=await Be.decode(this.binaryData);this.channels=e.map(o=>{var a;return Q(P({},o),{rootMessages:(a=o.messages)==null?void 0:a.filter(l=>!l.threadId)})});const s={};t.forEach(o=>{s[o.id]=o}),this.users=s,this.status="Indexing...";const r=[],n={};e.forEach(o=>{o.messages.forEach(a=>{a.type.startsWith("bot")||!a.userId||(r.push({id:`${a.channelId}-${a.id}`,tag:a.tags,content:a.text.replace(/(<[^>]+>)|\*|_|•|◦|▪︎/g,"")}),n[`${a.channelId}-${a.id}`]=a)})}),Z(r,o=>Number(o.id.split("-")[1])*-1).forEach(o=>this.messageIndex.add(o)),this.messagesById=n,this.status="Done",this.dataLoaded=!0}catch(e){this.status=`Error: ${e.message}`,console.error(e)}},processUser(e){var t,s,r,n,o,a,l,d;return{id:e.id,name:(this.exportConfig.preferDisplayName?(t=e.profile)==null?void 0:t.display_name:(s=e.profile)==null?void 0:s.real_name)||((r=e.profile)==null?void 0:r.real_name)||e.name||"",image:((n=e.profile)==null?void 0:n.image_1024)||((o=e.profile)==null?void 0:o.image_512)||((a=e.profile)==null?void 0:a.image_192),image24:(l=e.profile)==null?void 0:l.image_24,image72:(d=e.profile)==null?void 0:d.image_72}},processMessage(e,t){var n,o,a,l,d,m,h,v;const s=[],r=e.subtype||e.type||"message";return!(r==null?void 0:r.startsWith("bot"))&&e.user&&(s.push(`in:${t.id}`),e.user&&s.push(`from:${e.user}`),(n=e.text.match(/<@(U[\w]+)>/g))==null||n.forEach(u=>{const g=u.replace(/<@(U[\w]+)>/,"$1");s.push(`mentions:${g}`)})),{id:K(e.ts),type:r,text:((o=e.text)==null?void 0:o.trim())||"",userId:e.user,channelId:t.id,ts:K(e.ts),tags:s,isEdited:!!e.edited,threadId:e.parent_user_id?K(e.thread_ts):void 0,replyCount:e.reply_count||((a=e.replies)==null?void 0:a.length),replyUsersCount:e.reply_users_count||((l=e.replies_users)==null?void 0:l.length),latestReply:e.latest_reply?K(e.latest_reply):void 0,replyMessageIds:(d=e.replies)==null?void 0:d.map(u=>K(u.ts)),replyUserIds:e.reply_users,reactions:(m=e.reactions)==null?void 0:m.map(u=>({name:u.name,count:u.count,userIds:u.users})),files:(h=e.files)==null?void 0:h.map(u=>({id:u.id,name:u.name||u.filetype?`${u.id}.${u.filetype}`:"Untitled",mimeType:u.mimetype,src:u.url_private,width:u.original_w,height:u.original_h})).filter(u=>u.src&&u.mimeType&&u.id),attachments:(v=e.attachments)==null?void 0:v.map(u=>({serviceName:u.service_name,serviceIcon:u.service_icon,title:u.title,titleUrl:u.title_link,text:u.text,thumbUrl:u.thumb_url,imageUrl:u.image_url,quoteId:u.ts?K(u.ts):void 0,channelId:u.channel_id})).filter(u=>!!u.quoteId||!this.exportConfig.removeLinkPreviews)}},processChannel(e){var t,s,r;return{id:e.id,name:e.name,isArchived:e.is_archived,isGeneral:e.is_general,topic:(t=e.topic)==null?void 0:t.value,purpose:(s=e.purpose)==null?void 0:s.value,messages:((r=e.messages)==null?void 0:r.map(n=>this.processMessage(n,e)))||[]}},async loadExport(e){try{this.exportNeeded=!1,this.status="Extracting...";const s=await(await re.open(e)).extractFiles();this.status="Processing Channels...";const r=await he(s,"channels.json"),o=(await he(s,"users.json")).map(l=>this.processUser(l)),a=r.filter(l=>!l.is_archived||!this.exportConfig.skipArchivedChannels).map(l=>this.processChannel(l));await a.reduce(async(l,d,m)=>{await l,this.status=`Processing Messages for #${d.name} (${m+1}/${a.length})`;const h=[];await Promise.all(Object.keys(s[d.name]).map(async v=>{const u=await he(s[d.name],v);h.push(...u.filter(g=>{var $;return!(($=g.subtype)==null?void 0:$.startsWith("channel_"))||!this.exportConfig.hideChannelMessages}).map(g=>this.processMessage(g,d)))})),d.messages=Z(h,"ts")},Promise.resolve()),this.status="Making Binary...",this.binaryData=await Be.encode({channels:a,users:o})}catch(t){this.status=`Error: ${t.message}`,console.error(t)}},async checkIfBinZip(e){var t;try{this.status="Checking Files...";const r=await(await re.open(e)).getFilesObject();if(!r["export.bin"])return!1;const n=await((t=r["export.bin"])==null?void 0:t.extract());return this.binaryData=Buffer.from(await n.arrayBuffer()),this.exportNeeded=!1,this.loadBinary(),!0}catch{return!1}},async downloadBinary(){if(!this.binaryData)return;const{default:e}=await ce(()=>import("./jszip.min.e8c3367b.js").then(function(a){return a.j}),["assets/jszip.min.e8c3367b.js","assets/vendor.ce23a725.js"]),t=new e,s=new Blob([this.binaryData],{type:"application/octet-stream"});t.file("export.bin",s);const r=await t.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}),n=URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download="export.bin.zip",o.click(),URL.revokeObjectURL(n)},toggleSidebar(){this.leftSidebar=!this.leftSidebar},onWidthChange(){this.deviceWidth=window.innerWidth,this.deviceType=Re(this.deviceWidth)},searchUsers(e){return this.lastMentionQuery=e,Z(Object.values(this.users).filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),[t=>t.name.toLowerCase().indexOf(e.toLowerCase()),t=>t.name.toLowerCase()])},searchChannels(e){return this.lastMentionQuery=e,Z(this.channels.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())),[t=>t.name.toLowerCase().indexOf(e.toLowerCase()),t=>t.name.toLowerCase()])},async searchMessages(e,t=50,s=0){var d,m;let r="";const n=[];typeof e=="string"?((d=e.match(/((mentions)|(from)|(in)):\w+/g))==null||d.forEach(h=>{n.push(h)}),r=e.replace(/((mentions)|(from)|(in)):\w+/g,"")):e.forEach(h=>{var v,u;h.type==="text"?r+=h.text:h.type==="mention"&&((v=h.attrs)==null?void 0:v.id)&&n.push((u=h.attrs)==null?void 0:u.id)}),r=r.replace(/(\s{2,})|\+/g," ").trim()||"";let o="and";if(n.filter(h=>h.startsWith("from:")).length>1&&(o="or"),n.filter(h=>h.startsWith("in:")).length>1&&(o="or"),!r&&!n.length)return[];if(!r){const h=[];return Object.values(this.messagesById).forEach(v=>{n[o==="and"?"every":"some"](u=>v.tags.includes(u))&&h.push(v)}),Z(h,v=>v.ts*-1).slice(s,s+t)}return(((m=(await this.messageIndex.searchAsync(P({query:r,limit:t,offset:s},n.length?{index:"content",tag:n,bool:o}:{})))[0])==null?void 0:m.result)||[]).map(h=>this.messagesById[h])}}});X.extend(ze);X.extend(qe);const O=M({setup(e){return(t,s)=>(p(),S(i(Ye),ke(t.$attrs,{class:"icon"}),null,16))}});var L=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s};const vt=e=>(W("data-v-72abe67b"),e=e(),z(),e),yt={class:"user-avatars"},$t={class:"replies-count"},bt={class:"replies-count-text"},xt={class:"replies-info"},wt={class:"last-reply"},kt=vt(()=>c("span",{class:"cta"}," View thread ",-1)),It={class:"chevron"},Ct=M({props:{message:null},setup(e){const t=e,s=B(),r=ee(),n=b(()=>{var d;let l=5;return s.deviceType==="sm"&&(l=3),s.deviceType==="xs"&&(l=1),((d=t.message.replyUserIds)==null?void 0:d.map(m=>{const h=s.users[m];return{src:h.image24||h.image72,alt:h.name}}).splice(0,l))||[]}),o=b(()=>X(t.message.latestReply)),a=b(()=>`${r.params.channelId}-${t.message.id}`);return(l,d)=>{const m=O,h=te("router-link");return p(),S(h,{to:{query:{threadRef:i(a)}},class:"replies-btn"},{default:E(()=>[c("div",yt,[(p(!0),_(A,null,q(i(n),(v,u)=>(p(),_("img",ke({key:u},v),null,16))),128))]),c("div",$t,[c("span",bt,k(e.message.replyCount)+" replies ",1)]),c("div",xt,[c("span",wt," Last reply "+k(i(o).fromNow()),1),kt]),c("div",It,[y(m,{icon:"mdi:chevron-right"})])]),_:1},8,["to"])}}});var Mt=L(Ct,[["__scopeId","data-v-72abe67b"]]);const ne=new Je,J="google";ne.img_set=J;ne.img_sets[J].path=`https://cdn.jsdelivr.net/npm/emoji-datasource-${J}@7.0.2/img/${J}/64/`;ne.img_sets[J].sheet=`https://cdn.jsdelivr.net/npm/emoji-datasource-${J}@7.0.2/img/${J}/sheets/64.png`;const Lt=e=>(W("data-v-73aab79a"),e=e(),z(),e),St={class:"react-chip"},Bt=["innerHTML"],Rt={class:"react-count"},Dt={class:"react-popper-content"},Et=["src","alt"],Tt=Lt(()=>c("br",null,null,-1)),Ht={class:"names"},Nt=F(" reacted with "),Ut=M({props:{react:null},setup(e){const t=e,s=B(),r=b(()=>`:${t.react.name}:`),n=b(()=>ne.replace_colons(r.value)),o=b(()=>{var l;return(l=n.value.match(/https?:\/\/[^)]+/))==null?void 0:l[0]}),a=b(()=>{let l=t.react.userIds.map((d,m)=>{const h=s.users[d];let v="";return m!==0&&m===t.react.userIds.length-1&&(v="and "),`${v}${h==null?void 0:h.name}`}).filter(Boolean).sort().slice(0,10).join(", ");return t.react.userIds.length>10&&(l+=` +${t.react.userIds.length-10} more`),l});return(l,d)=>(p(),S(i(Y),{placement:"top",hover:"",arrow:""},{content:E(()=>[c("div",Dt,[c("img",{src:i(o),alt:e.react.name},null,8,Et),Tt,c("strong",Ht,k(i(a)),1),Nt,c("strong",null,k(i(r)),1)])]),default:E(()=>[c("div",St,[c("span",{innerHTML:i(n)},null,8,Bt),c("span",Rt,k(e.react.count),1)])]),_:1}))}});var jt=L(Ut,[["__scopeId","data-v-73aab79a"]]);const Ot=["src"],Pt=["href"],At=["src","alt"],Vt={key:0,class:"file-name"},Ft=M({props:{file:null,maxWidth:null,maxHeight:null},setup(e){const t=e,s=b(()=>t.file.mimeType.split("/")[0]),r=b(()=>t.file.src),n=b(()=>{if(!t.file.width||!t.file.height||!t.maxWidth)return{};const o=t.maxWidth,a=t.maxHeight||360,l=t.file.width,d=t.file.height,m=l/d;return{height:`${Math.min(m>1?o/m:a,d)}px`}});return(o,a)=>{const l=O;return p(),_("div",{class:"file-preview",style:se(e.maxHeight?{maxHeight:`${e.maxHeight}px`}:{})},[i(s)==="video"?(p(),_("video",{key:0,src:i(r),controls:"",style:se(i(n))},null,12,Ot)):(p(),_("a",{key:1,href:i(r),target:"_blank",onClick:a[0]||(a[0]=ie(()=>{},["stop"]))},[i(s)==="image"?(p(),_("img",{key:0,src:i(r),alt:t.file.name,style:se(i(n))},null,12,At)):(p(),_("div",{key:1,style:se(e.maxHeight?{height:`${e.maxHeight}px`,width:`${e.maxHeight}px`}:{}),class:"unknown-preview"},[y(l,{icon:"mdi:file-download-outline",style:{"font-size":"48px"}}),!e.maxHeight||e.maxHeight>150?(p(),_("div",Vt,k(t.file.name),1)):C("",!0)],4))],8,Pt))],4)}}});var Wt=L(Ft,[["__scopeId","data-v-5c3a5f50"]]);const zt={class:"file-list-header"},qt={class:"file-list-header-title"},Yt={class:"file-list-header-actions"},Jt=M({props:{files:null,maxHeight:null},setup(e){const t=e,s=H(!1),r=H(null),n=b(()=>t.files.length===1?t.files[0].name:`${t.files.length} Files`);return(o,a)=>{const l=O,d=Wt;return p(),_("div",{ref_key:"wrapper",ref:r,class:"file-list"},[c("div",zt,[c("span",qt,k(i(n)),1),c("span",Yt,[y(l,{icon:`mdi:chevron-${s.value?"right":"down"}-circle`,onClick:a[0]||(a[0]=m=>s.value=!s.value)},null,8,["icon"])])]),(p(!0),_(A,null,q(r.value?e.files:[],m=>{var h;return N((p(),S(d,{key:m.id,file:m,"max-width":(h=r.value)==null?void 0:h.offsetWidth,"max-height":e.maxHeight},null,8,["file","max-width","max-height"])),[[U,!s.value]])}),128))],512)}}});var Kt=L(Jt,[["__scopeId","data-v-4d4e549c"]]);const ae=(e,t)=>e.split(t)[0].length,ue={"*":"---escape-star---",_:"---escape-underscore---","~":"---escape-tilde---",":":"---escape-colon---"},oe=e=>Object.keys(ue).reduce((t,s)=>t.replaceAll(s,ue[s]),e),Gt=e=>Object.keys(ue).reduce((t,s)=>t.replaceAll(ue[s],s),e),G=/(-|\* |•|◦|▪︎)/,Qt=(e,t,s)=>Gt(e.trim().replace(/((\n|^)\s*(-|\* |•|◦|▪︎)[^\n]+)+/g,r=>{const n=r.split(`
`).filter(Boolean);return n.map((o,a)=>{let l="";const d=n[a-1],m=a===0,h=a===n.length-1;return d&&ae(d,G)!==ae(o,G)&&(l+="</ul>"),(m||ae(d,G)!==ae(o,G))&&(l+=`<ul class="formatter-ul" data-indent="${Math.round(ae(o,G)/4)}">`),l+=`<li>${o.split(G)[2].trim()}</li>`,h&&(l+="</ul>"),l}).join("")}).replace(/<@(U[\w]+)>/g,(r,n)=>{var l,d;const o=t[n],a=((l=o.profile)==null?void 0:l.display_name)||((d=o.profile)==null?void 0:d.real_name)||o.name;return oe(o?`<span class="formatter-mention">@${a}</span>`:r)}).replace(/<!([\w\^]+)>/g,(r,n)=>oe(`<span class="formatter-mention">@${n}</span>`)).replace(/<#(C[\w\^\|]+)>/g,(r,n)=>{const o=s.find(a=>n.startsWith(a.id));return oe(o?`<a class="formatter-mention" href="#${o.name}">#${o.name}</a>`:r)}).replace(/<((https?:\/\/|mailto:|tel:)[^<|>]+)\|?([^<>]+)?>/g,(r,n,o,a)=>oe(`<a class="formatter-link" href="${n}" target="_blank">${a||n}</a>`)).replace(/(:[^: ]+:)/gm,r=>{const n=ne.replace_colons(r);return n.includes("<span")?oe(n):n}).replace(/\*([^\*]+)\*/gm,(r,n)=>`<strong>${n}</strong>`).replace(/\_([^\_]+)\_/gm,(r,n)=>`<em>${n}</em>`).replace(/\~([^\~]+)\~/gm,(r,n)=>`<del>${n}</del>`).replace(/\n/g,"<br>"));var _e=(e,t,s)=>e.split("```").map((r,n)=>n%2==0?e.split("`").map((o,a)=>a%2==0?Qt(o,t,s):`<code class="formatter-code inline">${o}</code>`).join(""):`<pre class="formatter-code block"><code>${r}</code></pre>`).join("");const Zt=e=>(W("data-v-01df060a"),e=e(),z(),e),Xt=["id"],es={key:0,class:"message-list-date-wrap"},ts=Zt(()=>c("hr",null,null,-1)),ss={class:"message-list-date"},ns={class:"message-actions"},as={class:"message-left"},os={key:0,class:"message-avatar"},rs=["src"],is={key:1},ls={class:"message-main"},cs={key:0,class:"message-header"},us={class:"message-author"},ds={class:"message-timestamp"},ps=["innerHTML"],hs={key:3,class:"message-reactions"},_s=M({props:{message:null,aboveMessage:null,channelId:null,hideDateRule:{type:Boolean},hideReplies:{type:Boolean},smallReplies:{type:Boolean},nameDateFormat:null,idRef:null,fileMaxHeight:null},setup(e){const t=e,s=B(),r=ee();H([]);const n=H("Copy Link"),o=b(()=>{var f;return X((f=t.message)==null?void 0:f.ts)}),a=b(()=>{var I;const f=o.value.format("YYYY-MM-DD"),w=X((I=t.aboveMessage)==null?void 0:I.ts).format("YYYY-MM-DD");return!t.aboveMessage||f!==w}),l=b(()=>{var f;return!a.value&&t.message.userId===((f=t.aboveMessage)==null?void 0:f.userId)}),d=b(()=>t.message.type.startsWith("bot")?{name:"Bot",image:"/robot.png",image24:"/robot.png",image72:"/robot.png"}:s.users[t.message.userId]),m=b(()=>t.message.text.match(/^(:[+a-z0-9_-]+:)+$/i)),h=b(()=>{var f,w;return t.hideDateRule&&a.value?(f=o.value)==null?void 0:f.format(t.nameDateFormat||"Do MMM, YYYY [at] h:mm a"):(w=o.value)==null?void 0:w.format("h:mm a").toUpperCase()}),v=b(()=>`${t.idRef||"message"}-${t.message.id}`),u=b(()=>{var I;const f=r.query.threadRef||"",w=s.messagesById[f];return(w==null?void 0:w.threadId)?(I=s.messagesById[`${t.channelId}-${w.threadId}`])==null?void 0:I.id:w==null?void 0:w.id}),g=b(()=>{const f=`${r.query.threadRef||""}`.split("-")[1];return v.value===`message-${f}`||v.value===`message-${u.value}`}),$=b(()=>!t.message.threadId),x=()=>{const f=`${window.location.origin}/channel/${t.channelId}?threadRef=${t.channelId}-${t.message.id}`;navigator.clipboard.writeText(f),n.value="Copied!",setTimeout(()=>{n.value="Copy Link"},2e3)};return(f,w)=>{var me,fe,ge,ve,ye,$e;const I=O,R=Kt,V=jt,D=Mt;return((me=e.message)==null?void 0:me.id)?(p(),_("div",{key:0,id:i(v)},[i(a)&&!e.hideDateRule?(p(),_("div",es,[ts,c("div",ss,k(i(o).format("MMMM Do, YYYY")),1)])):C("",!0),e.message?(p(),_("div",{key:1,class:j({message:!0,continued:i(l),active:i(g)})},[N(c("div",ns,[e.message.threadId?C("",!0):(p(),S(i(Y),{key:0,show:n.value==="Copied!"||null,placement:"top",hover:"",arrow:""},{content:E(()=>[c("div",{class:j({"copy-link-pop-text":!0,success:n.value==="Copied!"})},k(n.value),3)]),default:E(()=>[c("button",{class:"copy-link-btn",onClick:x},[y(I,{icon:"mdi:link-variant"})])]),_:1},8,["show"]))],512),[[U,i($)]]),c("div",as,[i(l)?(p(),_("span",is,k(i(o).format("h:mm")),1)):(p(),_("div",os,[c("img",{src:(fe=i(d))==null?void 0:fe.image72,alt:""},null,8,rs)]))]),c("div",ls,[i(l)?C("",!0):(p(),_("div",cs,[c("span",us,k((ge=i(d))==null?void 0:ge.name),1),c("span",ds,k(i(h)),1)])),e.message.text?(p(),_("div",{key:1,class:j({"message-content":!0,"just-emoji":i(m),"non-message":e.message.type!=="message"}),innerHTML:i(_e)(e.message.text,i(s).users,i(s).channels)},null,10,ps)):C("",!0),((ve=e.message.files)==null?void 0:ve.length)?(p(),S(R,{key:2,files:e.message.files,"max-height":e.fileMaxHeight},null,8,["files","max-height"])):C("",!0),((ye=e.message.reactions)==null?void 0:ye.length)||e.message.replyCount&&e.smallReplies?(p(),_("div",hs,[(p(!0),_(A,null,q(e.message.reactions,be=>(p(),S(V,{key:be.name,react:be},null,8,["react"]))),128)),e.message.replyCount&&e.smallReplies?(p(),_("div",{key:0,style:se({marginLeft:(($e=e.message.reactions)==null?void 0:$e.length)?"16px":"0"}),class:"small-replies"},[y(I,{icon:"mdi:message-reply-text-outline"}),c("span",null,k(e.message.replyCount)+" "+k(e.message.replyCount===1?"reply":"replies"),1)],4)):C("",!0)])):C("",!0),e.message.replyCount&&!t.hideReplies&&!t.smallReplies?(p(),S(D,{key:4,message:e.message},null,8,["message"])):C("",!0)])],2)):C("",!0)],8,Xt)):C("",!0)}}});var ms=L(_s,[["__scopeId","data-v-01df060a"]]);const fs={class:"chat-header"},gs={key:0,class:"chat-header-actions"},vs={class:"chat-header-title spacer"},ys=["innerHTML"],$s=["innerHTML"],bs={key:1,class:"chat-header-actions"},xs=M({props:{title:null,subtitle:null,subtitleTo:null,showMenuButton:{type:Boolean},showCloseButton:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const s=e,r=B();return(n,o)=>{const a=O,l=te("router-link");return p(),_("div",fs,[s.showMenuButton?(p(),_("div",gs,[c("button",{class:"btn btn-icon menu-button",onClick:o[0]||(o[0]=d=>i(r).toggleSidebar())},[y(a,{icon:"mdi:menu-open"})])])):C("",!0),c("div",vs,[c("strong",null,k(s.title),1),s.subtitle&&!s.subtitleTo?(p(),S(i(Y),{key:0,arrow:"",hover:"",placement:"bottom",class:"chat-header-subtitle"},{content:E(()=>[c("div",{class:"subtitle-popout",innerHTML:i(_e)(s.subtitle,i(r).users,i(r).channels)},null,8,$s)]),default:E(()=>[c("span",{innerHTML:i(_e)(s.subtitle,i(r).users,i(r).channels)},null,8,ys)]),_:1})):C("",!0),s.subtitle&&s.subtitleTo?(p(),S(l,{key:1,to:s.subtitleTo,class:"chat-header-subtitle",textContent:k(s.subtitle)},null,8,["to","textContent"])):C("",!0)]),s.showCloseButton?(p(),_("div",bs,[c("button",{class:"btn btn-icon",onClick:o[1]||(o[1]=d=>t("close"))},[y(a,{icon:"mdi:close"})])])):C("",!0)])}}});var ws=L(xs,[["__scopeId","data-v-13add010"]]);const ks=e=>(W("data-v-1a67ebd7"),e=e(),z(),e),Is={class:"thread-list"},Cs=ks(()=>c("hr",null,null,-1)),Ms={class:"replies-count"},Ls=M({setup(e){var v;const t=ee(),s=de(),r=B(),n=H(`${(v=t.query.threadRef)!=null?v:""}`),o=b(()=>{var u;return`${(u=t.query.threadRef)!=null?u:""}`}),a=b(()=>{var g;const u=n.value.split("-")[0];return(g=r.channels)==null?void 0:g.find($=>$.id===u)}),l=b(()=>{const u=r.messagesById[n.value];return(u==null?void 0:u.threadId)?r.messagesById[`${a.value.id}-${u.threadId}`]:u}),d=b(()=>{var g,$,x,f;const u=Number(n.value.split("-")[1]);return(($=(g=l.value)==null?void 0:g.replyMessageIds)==null?void 0:$.length)?((f=(x=a.value)==null?void 0:x.messages)==null?void 0:f.filter(w=>{var I,R;return w.threadId===u||((R=(I=l.value)==null?void 0:I.replyMessageIds)==null?void 0:R.indexOf(w.id))!==-1}))||[]:[]}),m=()=>{s.push({query:Ie(t.query,"threadRef")})},h=u=>u>0?d.value[u-1]:Q(P({},l.value),{userId:""});return le(o,()=>{var u;n.value=`${(u=t.query.threadRef)!=null?u:""}`}),(u,g)=>{var f,w,I;const $=ws,x=ms;return p(),_(A,null,[((f=i(a))==null?void 0:f.id)?(p(),S($,{key:0,title:"Thread",subtitle:`#${(w=i(a))==null?void 0:w.name}`,"subtitle-to":{params:{channelId:i(a).id},query:P({},i(t).query),name:"channel"},"show-close-button":"",onClose:m},null,8,["subtitle","subtitle-to"])):C("",!0),c("div",Is,[y(x,{message:i(l),"above-message":null,"channel-id":((I=i(a))==null?void 0:I.id)||"",style:{margin:"16px 0"},"id-ref":"thread","hide-date-rule":"","hide-replies":""},null,8,["message","channel-id"]),Cs,c("div",Ms,[c("small",null,k(i(d).length)+" Repl"+k(i(d).length===1?"y":"ies"),1)]),(p(!0),_(A,null,q(i(d),(R,V)=>{var D;return p(),S(x,{key:R.id,message:R,"above-message":h(V),"channel-id":(D=i(a))==null?void 0:D.id,class:j({last:V===i(d).length-1}),"hide-date-rule":"","hide-replies":""},null,8,["message","above-message","channel-id","class"])}),128))])],64)}}});var Ss=L(Ls,[["__scopeId","data-v-1a67ebd7"]]);const Bs={src:"https://cdn.buymeacoffee.com/widget/assets/coffee%20cup.svg",alt:"Buy me a coffee",style:{height:"20px"}},Rs=["src"],Ds=M({setup(e){const t=B(),s=H(!1),r="mrfrase3",n="Support me on Buy me a coffee!",o=b(()=>`https://www.buymeacoffee.com/widget/page/${r}?description=${encodeURIComponent(n)}&color=${encodeURIComponent("#5F7FFF")}`);return Ke(()=>{!t.coffeeMenu||(s.value=!0)}),(a,l)=>{const d=O;return p(),S(i(Y),{placement:"top",class:"coffee-pop",show:i(t).coffeeMenu},{content:E(()=>[s.value||i(t).coffeeMenu?(p(),_("iframe",{key:0,src:i(o),title:"Buy me a coffee",class:"bmc-iframe"},null,8,Rs)):C("",!0)]),default:E(()=>[c("div",{class:"coffee-btn",onClick:l[0]||(l[0]=m=>i(t).coffeeMenu=!i(t).coffeeMenu)},[N(y(d,{icon:"mdi:close"},null,512),[[U,i(t).coffeeMenu]]),N(c("img",Bs,null,512),[[U,!i(t).coffeeMenu]])])]),_:1},8,["show"])}}});var Es=L(Ds,[["__scopeId","data-v-5dfad6fe"]]);const Ts=e=>(W("data-v-6cf7f162"),e=e(),z(),e),Hs={class:"sidebar-footer"},Ns=Ts(()=>c("div",{class:"spacer"},null,-1)),Us={href:"https://github.com/mrfrase3/slack-export-vue",target:"_blank"},js=M({setup(e){const t=B(),s=()=>{t.binaryData=null,t.dataLoaded=!1,t.exportNeeded=!0};return(r,n)=>{const o=O,a=Es;return p(),_("div",Hs,[(i(t).binarySource,p(),S(i(Y),{key:0,content:"Download Binary",placement:"top",hover:"",arrow:""},{default:E(()=>[y(o,{class:"action-icon",icon:"mdi:download",onClick:n[0]||(n[0]=l=>i(t).downloadBinary())})]),_:1})),y(i(Y),{content:"Upload Export",placement:"top",hover:"",arrow:""},{default:E(()=>[y(o,{class:"action-icon",icon:"mdi:upload",onClick:s})]),_:1}),Ns,y(i(Y),{content:"GitHub",placement:"top",hover:"",arrow:""},{default:E(()=>[c("a",Us,[y(o,{class:"action-icon",icon:"mdi:github"})])]),_:1}),y(a)])}}});var Os=L(js,[["__scopeId","data-v-6cf7f162"]]);const De=e=>(W("data-v-288df464"),e=e(),z(),e),Ps={class:"channel-list"},As=De(()=>c("div",{class:"title"}," Channels ",-1)),Vs=De(()=>c("span",{style:{"padding-right":"8px"}},"#",-1)),Fs=M({setup(e){const t=B(),s=ee(),r=n=>s.params.channelId===n.id;return(n,o)=>{const a=te("router-link");return p(),_("div",Ps,[As,c("ul",null,[(p(!0),_(A,null,q(i(t).channels,l=>(p(),_("li",{key:l.id},[y(a,{to:{params:{channelId:l.id},query:P({},i(s).query),name:"channel"},class:j({link:!0,active:r(l)})},{default:E(()=>[Vs,F(" "+k(l.name),1)]),_:2},1032,["to","class"])]))),128))])])}}});var Ws=L(Fs,[["__scopeId","data-v-288df464"]]);const zs={class:"search-text"},qs={key:0,class:"search-text-prefix"},Ys={key:0,class:"search-text-item-text"},Js=["src"],Ks=M({props:{content:null,prefix:null,large:{type:Boolean}},setup(e){const t=e,s=B(),r=o=>{var d;const[a,l]=(d=o.attrs)==null?void 0:d.id.split(":");if(a==="from"||a==="mentions")return`${a}:@${s.users[l].name}`;if(a==="in"){const m=s.channels.find(h=>h.id===l);return`${a}:#${m.name}`}return""},n=o=>{var d,m,h;const[a,l]=(d=o.attrs)==null?void 0:d.id.split(":");return a==="from"||a==="mentions"?t.large?(m=s.users[l])==null?void 0:m.image72:(h=s.users[l])==null?void 0:h.image24:""};return(o,a)=>(p(),_("span",zs,[t.prefix?(p(),_("span",qs,k(t.prefix),1)):C("",!0),(p(!0),_(A,null,q(t.content,(l,d)=>(p(),_("span",{key:d,class:"search-text-item"},[l.type==="text"?(p(),_("span",Ys,k(l.text),1)):l.type==="mention"?(p(),_("span",{key:1,class:j({"search-text-item-mention":!0,"with-img":!!n(l),large:t.large})},[n(l)?(p(),_("img",{key:0,src:n(l),alt:""},null,8,Js)):C("",!0),F(" "+k(r(l)),1)],2)):C("",!0)]))),128))]))}});var Gs=L(Ks,[["__scopeId","data-v-137baf4c"]]);const Qs=Ge.create({name:"oneLine",topNode:!0,content:"block",addKeyboardShortcuts(){return{Enter:()=>{var t,s;const e=(s=(t=this.editor.getJSON().content)==null?void 0:t[0])==null?void 0:s.content;return(e==null?void 0:e.length)?(this.options.onEnter(e),!0):!1}}}}),Zs=(e="")=>Qe(e,{allowedTags:[]}),Xs=(e="",t="~-~",s="hightlight")=>{const r=Zs(e),n=t.replace(/[^\w- ]/g,"").trim();if(!n)return r;const o=new RegExp(n,"gi");return r.replace(o,a=>`<span class="${s}">${a}</span>`)};const en={class:"mention-items"},tn=["id","onClick","onMouseenter"],sn={class:"mention-action"},nn=["src"],an={key:1},on=["innerHTML"],rn={key:1,class:"mention-item"},ln=M({props:{type:null,items:null,command:null},setup(e,{expose:t}){const s=e,r=B(),n=H(0),o=b(()=>{if(s.type!=="users")return s.items.map($=>({action:"In",id:`in:${$.id}`,channel:$}));const g=[];return s.items.forEach($=>{g.push({user:$,action:"From",id:`from:${$.id}`}),g.push({user:$,action:"Mentions",id:`mentions:${$.id}`})}),g}),a=b(()=>o.value.length),l=g=>{const $=o.value[g];$&&s.command($)},d=()=>{n.value=(n.value+a.value-1)%a.value},m=()=>{n.value=(n.value+1)%a.value},h=()=>{l(n.value)},v=({event:g})=>g.key==="ArrowUp"?(d(),!0):g.key==="ArrowDown"?(m(),!0):g.key==="Enter"?(h(),!0):!1,u=g=>{var $,x;return(s.type==="users"?($=g.user)==null?void 0:$.id:(x=g.channel)==null?void 0:x.id)||g.id};return le(s.items,()=>{n.value=0}),le(n,()=>{var $;const g=o.value[n.value];($=document.getElementById(`mention-item-${g.action}-${u(g)}`))==null||$.scrollIntoView({block:"nearest"})}),t({onKeyDown:v}),(g,$)=>(p(),_("div",en,[i(a)?(p(!0),_(A,{key:0},q(i(o),(x,f)=>{var w,I,R;return p(),_("button",{id:`mention-item-${x.action}-${u(x)}`,key:f,class:j(["mention-item",{"is-selected":f===n.value,"action-width":s.type==="users"}]),onClick:V=>l(f),onMouseenter:V=>n.value=f},[c("span",sn,k(x.action)+":",1),((w=x.user)==null?void 0:w.image24)?(p(),_("img",{key:0,src:x.user.image24,alt:"",class:"mention-item-img"},null,8,nn)):C("",!0),s.type==="channels"?(p(),_("span",an,"#")):C("",!0),c("span",{innerHTML:i(Xs)(((I=x.user)==null?void 0:I.name)||((R=x.channel)==null?void 0:R.name),i(r).lastMentionQuery,"mention-hl")},null,8,on)],42,tn)}),128)):(p(),_("button",rn," No result "))]))}});var cn=L(ln,[["__scopeId","data-v-89900674"]]),Ee=(e,t="users")=>{const s=B();return{char:e,items:({query:r})=>t==="users"?s.searchUsers(r).slice(0,30):s.searchChannels(r).slice(0,30),pluginKey:new Ze(t),render:()=>{let r,n;return{onStart:o=>{r=new Xe(cn,{props:Q(P({},o),{type:t}),editor:o.editor}),n=et("body",{getReferenceClientRect:o.clientRect,appendTo:()=>document.body,content:r.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",sticky:!0,plugins:[tt]})},onUpdate(o){r.updateProps(Q(P({},o),{type:t})),n[0].setProps({getReferenceClientRect:o.clientRect})},onKeyDown(o){var a;return o.event.key==="Escape"?(n[0].hide(),!0):(a=r.ref)==null?void 0:a.onKeyDown(o,t)},onExit(){n[0].destroy(),r.destroy()}}}}};const un={key:0,class:"search-input"},dn=M({emits:["close"],setup(e,{expose:t,emit:s}){const r=B(),n=de(),o=({node:d})=>{const[m,h]=d.attrs.id.split(":");if(m==="from"||m==="mentions")return`${m}:@${r.users[h].name}`;if(m==="in"){const v=r.channels.find(u=>u.id===h);return`${m}:#${v.name}`}return""},a=new st({autofocus:!0,extensions:[Qs.configure({onEnter:d=>{n.push({path:"/search",query:{query:JSON.stringify(d)}}),s("close")}}),nt,at,ot.configure({placeholder:"Type @ or # to search for users or channels"}),Ce.configure({HTMLAttributes:{class:"search-mention"},renderLabel:o,suggestion:Ee("@","users")}),Ce.configure({HTMLAttributes:{class:"search-mention"},renderLabel:o,suggestion:Ee("#","channels")})],content:r.activeSearch,onUpdate(){r.activeSearch=a.getJSON()}}),l=()=>{a.commands.clearContent(),r.activeSearch=a.getJSON()};return le(r.activeSearch,()=>{JSON.stringify(a.getJSON())!==JSON.stringify(r.activeSearch)&&a.commands.setContent(r.activeSearch,!1)}),rt(()=>{a.destroy()}),t({editor:a,clearContent:l}),(d,m)=>i(a)?(p(),_("div",un,[y(i(it),{editor:i(a)},null,8,["editor"])])):C("",!0)}});var pn=L(dn,[["__scopeId","data-v-29a93214"]]);const hn={class:"search-area"},_n={class:"search-box-icon main-icon"},mn=M({emits:["close"],setup(e,{expose:t,emit:s}){const r=B(),n=H(null);return t({searchInput:n}),(o,a)=>{var d,m,h,v;const l=O;return p(),_("div",{class:"search-input-spash",onClick:a[4]||(a[4]=u=>s("close"))},[c("div",{class:"search-input-container",onClick:a[3]||(a[3]=ie(()=>{},["stop"]))},[c("div",hn,[c("div",_n,[y(l,{icon:"mdi:search"})]),y(pn,{ref_key:"searchInput",ref:n,onClose:a[0]||(a[0]=u=>s("close"))},null,512),N(c("button",{class:"clear-btn",onClick:a[1]||(a[1]=u=>{var g;return(g=n.value)==null?void 0:g.clearContent()})}," Clear ",512),[[U,(v=(h=(m=(d=i(r).activeSearch)==null?void 0:d.content)==null?void 0:m[0])==null?void 0:h.content)==null?void 0:v.length]]),c("button",{class:"close-icon",onClick:a[2]||(a[2]=u=>s("close"))},[y(l,{icon:"mdi:close"})])])])])}}});var fn=L(mn,[["__scopeId","data-v-a8da35e0"]]);const gn=e=>(W("data-v-08cc159a"),e=e(),z(),e),vn={class:"navbar"},yn={key:1},$n=gn(()=>c("div",{class:"spacer"},null,-1)),bn={class:"search-icon"},xn=M({setup(e){const t=B(),s=H(!1);return(r,n)=>{var d,m,h,v;const o=fn,a=Gs,l=O;return p(),_(A,null,[s.value?(p(),S(o,{key:0,onClose:n[0]||(n[0]=u=>s.value=!1)})):C("",!0),c("div",vn,[c("button",{class:"searchbar",onClick:n[1]||(n[1]=u=>s.value=!0)},[((v=(h=(m=(d=i(t).activeSearch)==null?void 0:d.content)==null?void 0:m[0])==null?void 0:h.content)==null?void 0:v.length)?(p(),S(a,{key:0,content:i(t).activeSearch.content[0].content,prefix:"Search: "},null,8,["content"])):(p(),_("span",yn,"Search Export")),$n,c("span",bn,[y(l,{icon:"mdi:search"})])])])],64)}}});var wn=L(xn,[["__scopeId","data-v-08cc159a"]]);const kn={class:"checkbox-text"},In={class:"checkbox-label"},Cn={class:"checkbox-hint"},Mn=M({props:{modelValue:{type:Boolean},label:null,hint:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,r=()=>{t("update:modelValue",!s.modelValue)};return(n,o)=>{const a=O;return p(),_("div",{class:"checkbox-wrap",onClick:r},[y(a,{icon:`mdi:${s.modelValue?"checkbox-marked":"checkbox-blank-outline"}`,class:"checkbox-icon"},null,8,["icon"]),c("div",kn,[c("div",In,[Me(n.$slots,"label",{},()=>[F(k(s.label),1)],!0)]),c("div",Cn,[Me(n.$slots,"hint",{},()=>[F(k(s.hint),1)],!0)])])])}}});var Ln=L(Mn,[["__scopeId","data-v-690ba907"]]),Sn="/assets/loading.7cbe3464.svg",Te="/slax.svg";const T=e=>(W("data-v-f73075ca"),e=e(),z(),e),Bn={class:"loading-splash moving-gradient"},Rn=T(()=>c("img",{alt:"Loading",src:Sn},null,-1)),Dn=T(()=>c("br",null,null,-1)),En=T(()=>c("br",null,null,-1)),Tn=T(()=>c("br",null,null,-1)),Hn=T(()=>c("div",{class:"header"},[c("h1",null,[c("img",{src:Te,alt:"",style:{height:"1em","margin-right":"8px"}}),F(" Slax Pro ")]),c("p",null,[F("A "),c("i",null,"Free & Professional"),F(" viewer for slack-like export content.")])],-1)),Nn=["onDrop","onDragover"],Un={key:0},jn=T(()=>c("strong",null,"Drop .zip file here",-1)),On=T(()=>c("br",null,null,-1)),Pn=T(()=>c("small",null,"or click to select",-1)),An=[jn,On,Pn],Vn={key:1},Fn=T(()=>c("strong",null,"Kobe!",-1)),Wn=[Fn],zn={key:2},qn=T(()=>c("strong",null,"File must be a .zip",-1)),Yn=T(()=>c("br",null,null,-1)),Jn=T(()=>c("small",null,"Please try again",-1)),Kn=[qn,Yn,Jn],Gn={class:"config"},Qn=T(()=>c("h2",null,"Export Preferences",-1)),Zn={class:"actions"},Xn=T(()=>c("div",{class:"spacer"},null,-1)),ea=T(()=>c("span",null,"Process",-1)),ta=M({setup(e){const t=B(),s=H(null),r=H(!1),n=H(!1),o=H(!1),a=H(!1),l=b(()=>o.value?"mdi:alert-outline":r.value?n.value?"mdi:basketball-hoop-outline":"mdi:alert-outline":"mdi:folder-zip-outline"),d=b(()=>o.value?!0:!(!r.value||n.value)),m=b(()=>d.value?"error":r.value?"success":""),h=x=>x?Array.from(x):[],v=x=>{var f;o.value=!1,r.value=!0,n.value=!!((f=x.dataTransfer)==null?void 0:f.types.includes("Files"))},u=()=>{o.value=!1,r.value=!1,n.value=!1},g=async x=>{var w,I;x.preventDefault();const f=(w=x.dataTransfer)!=null?w:x.target;s.value=(I=h(f.files).find(R=>R.type==="application/zip"))!=null?I:null,u(),o.value=!s.value,s.value&&(a.value=!0,await t.checkIfBinZip(s.value)&&(s.value=null),a.value=!1)},$=async()=>{s.value&&(await t.loadExport(s.value),await t.loadBinary(),s.value=null)};return Le(()=>{t.loadBinary()}),(x,f)=>{var R,V;const w=O,I=Ln;return N((p(),_("div",Bn,[N(c("div",null,[Rn,Dn,En,c("strong",null,k(i(t).status),1),Tn,i(t).status.startsWith("Error:")?(p(),_("button",{key:0,onClick:f[0]||(f[0]=D=>i(t).exportNeeded=!0)}," Back ")):C("",!0)],512),[[U,!i(t).exportNeeded||a.value]]),N(c("div",null,[N((p(),_("input",{key:(R=s.value)==null?void 0:R.name,ref:"fileInput",type:"file",accept:".zip",onChange:g},null,32)),[[U,!1]]),Hn,N(c("div",{class:j(`drop-area ${i(m)}`),onDrop:ie(g,["prevent"]),onDragenter:v,onDragover:ie(v,["prevent"]),onDragleave:u,onClick:f[1]||(f[1]=D=>x.$refs.fileInput.click())},[y(w,{class:"zip-icon",icon:i(l)},null,8,["icon"]),!i(d)&&!r.value?(p(),_("div",Un,An)):i(d)?(p(),_("div",zn,Kn)):(p(),_("div",Vn,Wn))],42,Nn),[[U,!s.value]]),N(c("div",Gn,[Qn,c("span",null,[y(w,{icon:"mdi:folder-zip-outline"}),c("strong",null,k((V=s.value)==null?void 0:V.name),1)]),y(I,{modelValue:i(t).exportConfig.preferDisplayName,"onUpdate:modelValue":f[2]||(f[2]=D=>i(t).exportConfig.preferDisplayName=D),label:"Prefer display name",hint:"e.g. 'mrfrase3' instead of 'Fraser The Third'"},null,8,["modelValue"]),y(I,{modelValue:i(t).exportConfig.hideChannelMessages,"onUpdate:modelValue":f[3]||(f[3]=D=>i(t).exportConfig.hideChannelMessages=D),label:"Hide channel messages",hint:"Hide user join/leave messages"},null,8,["modelValue"]),y(I,{modelValue:i(t).exportConfig.skipArchivedChannels,"onUpdate:modelValue":f[4]||(f[4]=D=>i(t).exportConfig.skipArchivedChannels=D),label:"Skip archived channels",hint:"Skip channels that have been archived"},null,8,["modelValue"]),y(I,{modelValue:i(t).exportConfig.removeLinkPreviews,"onUpdate:modelValue":f[5]||(f[5]=D=>i(t).exportConfig.removeLinkPreviews=D),label:"Remove link previews",hint:"Remove the image/description under messages with links"},null,8,["modelValue"]),c("div",Zn,[c("button",{class:"btn btn-text",onClick:f[6]||(f[6]=D=>s.value=null)}," Back "),Xn,c("button",{class:"btn",onClick:$},[y(w,{icon:"mdi:cog"}),ea])])],512),[[U,s.value]])],512),[[U,i(t).exportNeeded&&!a.value]])],512)),[[U,!i(t).dataLoaded]])}}});var sa=L(ta,[["__scopeId","data-v-f73075ca"]]);const na=c("h1",null,[c("img",{src:Te,alt:"",style:{height:"1em","margin-right":"8px"}}),F(" Slax Pro ")],-1),aa=M({setup(e){const t=B(),s=ee(),r=de(),n=b(()=>{var l;return(l=s.query)==null?void 0:l.threadRef}),o=()=>{t.leftSidebar=!1,r.push({query:P({},Ie(s.query,["threadRef"]))})},a=lt(()=>t.onWidthChange(),100);return Le(()=>window.addEventListener("resize",a)),ct(()=>window.removeEventListener("resize",a)),(l,d)=>{const m=sa,h=wn,v=te("router-link"),u=Ws,g=Os,$=Ss,x=te("router-view");return p(),_(A,null,[y(m),y(h),c("div",{class:j({sidebar:!0,closed:!i(t).leftSidebar})},[y(v,{class:"no-link",to:{name:"home",params:{},query:P({},i(s).query)}},{default:E(()=>[na]),_:1},8,["to"]),y(u),y(g)],2),c("div",{class:j({"thread-sidebar":!0,closed:!i(n)})},[y($)],2),y(ut,{name:"fade"},{default:E(()=>[N(c("div",{class:"sidebar-overlay",onClick:d[0]||(d[0]=f=>o())},null,512),[[U,i(t).leftSidebar||i(n)]])]),_:1}),c("div",{class:j({main:!0,"offset-right":!!i(n)})},[y(x)],2)],64)}}});window.Buffer=dt.Buffer;pt(aa).directive("observe-visibility",{beforeMount:(e,t,s)=>{s.context=t.instance,pe.bind(e,t,s)},updated:pe.update,unmounted:pe.unbind}).use(ht()).use(gt).mount("#app");export{ws as C,L as _,ms as a,Gs as b,O as c,B as u};
